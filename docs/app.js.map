{"version":3,"sources":["webpack:///webpack/bootstrap dde8977b70b3adfcb6ff","webpack:///./docs/app.ts","webpack:///./src/index.ts","webpack:///./src/search/index.ts","webpack:///./src/moves.ts","webpack:///./src/evaluation/index.ts","webpack:///./src/evaluation/helpers.ts","webpack:///./src/utils/index.ts","webpack:///./src/utils/helpers.ts","webpack:///./src/game/index.ts","webpack:///./src/game/helpers.ts","webpack:///./src/search/minimax.ts"],"names":[],"mappings":"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","file":"./docs/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dde8977b70b3adfcb6ff","import { getBestMove, hasGameEnded, hasXWon, hasOWon } from '../src';\r\n\r\nconst cells = Array.from(document.querySelectorAll('.cell'));\r\nconst resultDiv = document.querySelector('.result');\r\nconst youScoreSpan = document.querySelector('.player.score span') as HTMLElement;\r\nconst aiScoreSpan = document.querySelector('.ai.score span') as HTMLElement;\r\n\r\nconst incrementScore = (scoreSpan: HTMLElement) => {\r\n  const score = parseInt(scoreSpan.innerText);\r\n  scoreSpan.innerText = (score + 1).toString();\r\n}\r\n\r\nconst gameEnded = (grid: boolean[]) => {\r\n  const oWon = hasOWon(grid);\r\n  const xWon = hasXWon(grid);\r\n  if (xWon || oWon) incrementScore(xWon ? youScoreSpan : aiScoreSpan);\r\n  resultDiv.className =\r\n    xWon\r\n      ? 'result x won'\r\n      : oWon\r\n        ? 'result o won'\r\n        : 'result drawn';\r\n}\r\n\r\nconst readGrid = () => cells.map((x, i) => x.className === 'cell X' ? true : x.className === 'cell O' ? false : undefined);\r\n\r\nconst xPlayed = function (index: number) {\r\n  console.log(index);\r\n  const grid = readGrid();\r\n  if (hasGameEnded(grid)) return gameEnded(grid);\r\n  const result = getBestMove(grid);\r\n  console.log(result);\r\n  cells[result as number].className = 'cell O';\r\n  const newGrid = readGrid();\r\n  if (hasGameEnded(newGrid)) gameEnded(newGrid);\r\n};\r\n\r\ndocument.querySelector('.grid').addEventListener('click', event => {\r\n  let target = event.target as HTMLElement,\r\n    tagName = target.tagName;\r\n  if (tagName !== 'DIV' && tagName !== 'SPAN') return false;\r\n  if (tagName === 'SPAN') target = target.parentNode as HTMLElement;\r\n  if (target.className !== 'cell') return false;\r\n  target.className = 'cell X';\r\n  xPlayed(cells.indexOf(target));\r\n});\r\n\r\ndocument.querySelector('.new').addEventListener('click', event => {\r\n  event.stopPropagation();\r\n  event.preventDefault();\r\n  cells.forEach(cell => cell.className = 'cell');\r\n  resultDiv.className = 'result';\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./docs/app.ts","import { getBestMove } from './search';\r\nimport { hasGameEnded, hasXWon, hasOWon } from './game';\r\n\r\nexport  {\r\n  getBestMove,\r\n  hasGameEnded,\r\n  hasXWon,\r\n  hasOWon\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { getMoves } from '../moves';\nimport { evaluate } from '../evaluation';\nimport { nextValue, makeMove, hasGameEnded } from '../game';\nimport { Grid, Move } from '../definitions';\nimport { alphaBeta } from './alphaBeta';\nimport { minimax } from './minimax';\n\nexport const getBestMove = (grid: Grid, forX?: (grid: Grid) => boolean, depth?: number): Move => {\n  const moves = getMoves(grid);\n  if (depth == undefined) depth = moves.length;\n  if (forX == undefined) forX = nextValue;\n  const isX = forX(grid);\n  const getNextNodes = (grid: Grid) => getMoves(grid).map(move => makeMove(grid, move, forX));\n  const movesWithScores = moves.map(move => {\n    const newGrid = makeMove(grid, move, forX);\n    const score = minimax(newGrid, depth, !isX, evaluate, hasGameEnded, getNextNodes);\n    return {\n      move,\n      score: isX ? score: -score\n    };\n  });\n  const sortedMovesWithScores = movesWithScores.sort((a, b) => b.score - a.score);\n  const sortedMoves = sortedMovesWithScores.map(x => x.move);\n  // Return the move with the best evaluation so far\n  return sortedMoves[0];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/search/index.ts","import { Grid, Move } from './definitions';\r\n\r\nexport function getMoves(grid: Grid): Move[] {\r\n  return grid\r\n          .map((value, index) => value == undefined ? index : undefined)\r\n          .filter(value => value != undefined);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/moves.ts","import { Grid } from '../definitions';\nimport { evaluateRows, evaluateColumns, evaluateDiagonals } from './helpers';\n\nexport const evaluate = (grid: Grid) =>\n  evaluateRows(grid) + evaluateColumns(grid) + evaluateDiagonals(grid);\n\n\n\n// WEBPACK FOOTER //\n// ./src/evaluation/index.ts","import { getRows, getColumns, getDiagonals } from '../utils';\nimport { Grid, Cell } from '../definitions';\n\nexport const evaluateRows = (grid: Grid) =>\n  getRows(grid)\n    .map(evaluateCells)\n    .reduce((x, y) => x + y, 0);\n\nexport const evaluateColumns = (grid: Grid) =>\n  getColumns(grid)\n    .map(evaluateCells)\n    .reduce((x, y) => x + y, 0);\n\nexport const evaluateDiagonals = (grid: Grid) =>\n  getDiagonals(grid)\n    .map(evaluateCells)\n    .reduce((x, y) => x + y, 0);\n\nexport const evaluateCells = (cells: Cell[]) => {\n  const length = cells.length;\n  if(length === 0) return 0;\n  const initial = { undefined: 0, true: 0, false: 0 };\n  const counts = cells.reduce((counts, cell) => increment(counts, cell), initial);\n  if (counts.undefined === length) return 0;\n  if (counts.true === length) return Infinity;\n  if (counts.false === length) return -Infinity;\n  if (counts.false === 0) return Math.pow(2, counts.true);\n  if (counts.true === 0) return -Math.pow(2, counts.false);\n  return 0;\n}\n\nconst increment = <T>(obj: T, key: any) => {\n  const newObj = {} as T;\n  for(let prop in obj)\n    if(obj.hasOwnProperty(prop))\n      newObj[prop] = obj[prop];\n  newObj[key+'']++;\n  return newObj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/evaluation/helpers.ts","import { transpose } from './helpers';\n\nconst getArray = (length: number): number[] =>\n  Array.apply(null, { length }).map(Number.call, Number);\n\nexport const getRows = <T>(grid: T[]): T[][] => {\n  const size = Math.sqrt(grid.length);\n  const copy = grid.concat([]);\n  return getArray(size).map(() => copy.splice(0, size));\n};\n\nexport const getColumns = <T>(grid: T[]): T[][] => getRows(transpose(grid));\n\nexport const getDiagonals = <T>(grid: T[]): T[][] => {\n  const size = Math.sqrt(grid.length);\n  const lesser = size - 1;\n  const last = grid.length - 1;\n  return [\n    grid.filter((_, i) => Math.floor(i / size) === i % size),\n    grid.filter((_, i) => i > 0 && i < last && i % lesser === 0)\n  ];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.ts","export const transpose = <T>(grid: T[]): T[] => {\n  const size = Math.sqrt(grid.length);\n  return grid.map((x, i) => grid[Math.floor(i / size) + ((i % size) * size)]);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/helpers.ts","import { Grid, Move } from '../definitions';\nimport { hasWon } from './helpers';\n\nexport const nextValue = (grid: Grid) =>\n  grid.filter(cell => cell != undefined).length % 2 == 0;\n\nexport const makeMove = (grid: Grid, move: Move, forX: (grid: Grid) => boolean) => {\n  const newValue = forX(grid);\n  return grid.map((value, index) => index == move ? newValue : value);\n}\n\nexport const hasXWon = (grid: Grid) => hasWon(grid, true);\nexport const hasOWon = (grid: Grid) => hasWon(grid, false);\nexport const isFull = (grid: Grid) => grid.every(cell => cell != undefined);\nexport const hasGameEnded = (grid: Grid) =>\n  hasXWon(grid) || hasOWon(grid) || isFull(grid);\n\n\n\n// WEBPACK FOOTER //\n// ./src/game/index.ts","import { Grid, Cell } from '../definitions';\nimport { getRows, getColumns, getDiagonals } from '../utils';\n\nconst doesAnyArrayHaveAll = (cellsArray: Cell[][], value: boolean) =>\n  cellsArray.some(cells => cells.every(cell => cell === value));\n\nexport const hasWon = (grid: Grid, forX: boolean) =>\n  doesAnyArrayHaveAll(getRows(grid), forX)\n    || doesAnyArrayHaveAll(getColumns(grid), forX)\n    || doesAnyArrayHaveAll(getDiagonals(grid), forX);\n\n\n\n// WEBPACK FOOTER //\n// ./src/game/helpers.ts","export const minimax = <TNode>(\n  node: TNode,\n  depth: number,\n  maximizingPlayer: boolean,\n  evaluate: (n: TNode) => number,\n  isTerminalNode: (n: TNode) => boolean,\n  getChildren: (n: TNode) => TNode[]): number => {\n  if (depth == 0 || isTerminalNode(node)) return evaluate(node);\n  if (maximizingPlayer)\n    return getChildren(node)\n      .reduce((best, child) => Math.max(best, minimax(child, depth - 1, false, evaluate, isTerminalNode, getChildren)),\n      -Infinity);\n  return getChildren(node)\n      .reduce((best, child) => Math.min(best, minimax(child, depth - 1, true, evaluate, isTerminalNode, getChildren)),\n      Infinity);\n  }\n    \n\n\n// WEBPACK FOOTER //\n// ./src/search/minimax.ts"],"sourceRoot":""}